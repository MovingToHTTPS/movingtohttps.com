<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Moving to HTTPS - migrate from HTTP to HTTPS with ease.</title>
    <meta name="keywords" content="HTTPS migration, HTTP to HTTPS, moving from HTTP to HTTPS">
    <meta name="description" content="Help guides on moving sites from HTTP to HTTPS">

    <!-- favicon etc. generated from /images/owl.svg with realfavicongenerator.net -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#fef7e1">

    <link href="https://fonts.googleapis.com/css?family=Bungee+Shade|Noto+Sans:400,400i,700,700i" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/normalize.css@5.0.0/normalize.css">
    <link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/app.css">

</head>
<body>

    <div class="container">

        <nav class="nav">
            <a title="Check out our blog for latest HTTPS news" href="https://blog.movingtohttps.com/" class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
            </a>
            <a title="Follow us on Twitter" href="https://twitter.com/MovingtoHTTPS" class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
            </a>
            <a title="Join us on Facebook" href="https://www.facebook.com/movingtoHTTPS/" class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
            </a>
            <a title="Contribute to this guide on GitHub" href="https://github.com/MovingtoHTTPS" class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
            </a>
        </nav>

        <header class="header">
            <h1><a href="/">Moving to HTTPS Guide</a></h1>
        </header>

        <div class="middle">

            <div class="sidebar">

                <div class="ssowl block-spacing">
                    <img src="/images/owl.svg" alt="Owl logo" title="The SSowL">
                </div>

                <div class="about-site block">
                    <p>A community site to help site owners migrate to HTTPS with a simple tested process. Allowing you to filter the plan based on multiple platforms (<a href="/?platform=wordpress">Wordpress</a>, <a href="/?platform=magento">Magento</a>, and more), hosting environments (<a href="/?hosting=cpanel">cPanel</a>, <a href="/?hosting=apache">Apache</a>, and more) along with the level of control / access you have over the site.</p>
                    <p>Are you migrating your site from HTTP to HTTPS?
                        <a rel="noopener" target="_blank" href="https://twitter.com/hashtag/movingtoHTTPS">#movingtoHTTPS</a></p>
                    <p>Looking to contribute? All code is available on <a rel="noopener" target="_blank" href="https://github.com/MovingtoHTTPS">GitHub</a>!</p>

                    <!-- Google Translate will show here -->
                    <div id="google_translate_element"></div>

                </div>

                <!-- Begin MailChimp Signup Form -->
                <div id="mc_embed_signup" class="newsletter block">
                    <form action="https://movingtohttps.us2.list-manage.com/subscribe/post?u=56c058814106f136ddb75fcb8&amp;id=c839725f83" method="post" target="_blank">
                        <div id="mc_embed_signup_scroll">
                        <p><label for="mce-EMAIL">Join the community for updates:</label></p>
                        <p class="mc-field-group">
                            <input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
                            <button name="subscribe" id="mc-embedded-subscribe" class="button">Subscribe</button>
                        </p>
                        <div id="mce-responses" class="clear">
                            <div class="response" id="mce-error-response" style="display:none"></div>
                            <div class="response" id="mce-success-response" style="display:none"></div>
                        </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_56c058814106f136ddb75fcb8_c839725f83" tabindex="-1" value=""></div>
                        </div>
                    </form>
                </div>
                <!--End mc_embed_signup-->

            </div>

            <div id="app" class="main block">

                <form id="config">
                    <div class="filters">
                        <div class="filter-block">
                            <label for="platform">Platform</label>
                            <br>
                            <select tabindex="1" name="platform" id="platform" v-model="platform">
                                <option v-for="(text, value) in options.platform" v-bind:value="value" v-text="text"></option>
                            </select>
                        </div>
                        <div class="filter-block">
                            <label for="hosting">Hosting / Web Server</label>
                            <br>
                            <select tabindex="1" name="hosting" id="hosting" v-model="hosting">
                                <option v-for="(text, value) in options.hosting" v-bind:value="value" v-text="text"></option>
                            </select>
                        </div>
                        <div class="filter-block">
                            <label for="control">Control</label>
                            <br>
                            <select tabindex="1" name="control" id="control" v-model="control">
                                <option v-for="(text, value) in options.control" v-bind:value="value" v-text="text"></option>
                            </select>
                        </div>
                    </div>
                </form>

                <hr>

                <!-- Migration process -->
                <main>

                    <!-- Short line showing selected filters -->
                    <p class="guide-introduction">
                        <small v-if="platform">
                            This guide is for moving {{ platform }} sites<span v-if="hosting"> hosted with {{ hosting }}</span> to HTTPS.
                        </small>
                        <small v-else-if="hosting">
                            This guide is for moving sites using {{ hosting }} to HTTPS
                        </small>
                        <small class="print-hidden">- Use the above filters to suit your needs.</small>
                    </p>

                    <!-- Outline -->
                    <a class="toggle-section print-hidden" @click="showArea.outline = !showArea.outline">[Toggle]</a>
                    <h2 v-bind:class="showArea.outline ? '' : 'toggle-hidden-section print-hidden'">Outline</h2>
                    <ol class="process-outline" v-show="showArea.outline">
                        <li>
                            <h3><a href="#pre-move">Pre move</a></h3>
                            <p>Before actually moving you'll want prepare a little, this includes selecting the sort of SSL certificate you want ready in case you need to purchase it in advance.</p>
                        </li>
                        <li>
                            <h3><a href="#during-move">Moving day</a></h3>
                            <p>Time to get/buy, install and check the SSL certificate, fix mixed content issues, setup redirects and check 3rd party integrations.</p>
                        </li>
                        <li>
                            <h3><a href="#post-move">Post move</a></h3>
                            <p>Shortly after the initial move, check for new issues. Then once ready, setup the site to always use HTTPS.</p>
                        </li>
                        <li>
                            <h3><a href="#above-and-beyond">Going above and beyond</a></h3>
                            <p>For the A+ students, fixing further issues &amp; similar security improvements.</p>
                        </li>
                    </ol>

                    <!-- Pre move -->
                    <a class="toggle-section print-hidden" @click="showArea.preMove = !showArea.preMove">[Toggle]</a>
                    <h2 id="pre-move" v-bind:class="showArea.preMove ? '' : 'toggle-hidden-section print-hidden'">Pre move</h2>
                    <ol v-show="showArea.preMove">
                        <li>
                            <h3>Select an SSL certificate</h3>
                            <p>As most SSL providers now supply a 2048-bit key or higher by default, your first question really is, what sort of certificate do you want?</p>
                            <p>There are 3 main types of certificates you can choose from for your site:</p>
                            <ul>
                                <li>Domain Validation <em>(DV)</em>
                                    <ul>
                                        <li>Standard SSL (Just as secure as other options).</li>
                                        <li v-if="hosting == 'caddy'">Caddy has this built in for free with it's <a rel="noopener" target="_blank" href="https://caddyserver.com/docs/automatic-https">automatic HTTPS</a> feature!</li>
                                        <li v-else>Free via Let's Encrypt &amp; Cloudflare, or purchase available.</li>
                                        <li>Normally issued in minutes.</li>
                                    </ul>
                                </li>
                                <li>Organization Validation <em>(OV)</em>
                                    <ul>
                                        <li>Shows organization within certificate but largely appears the same as DV.</li>
                                        <li>Requires purchase.</li>
                                        <li>Can take several days to issue.</li>
                                    </ul>
                                </li>
                                <li>Extended Validation <em>(EV)</em>
                                    <ul>
                                        <li>Shows organization in URL bar as well as within the certificate.</li>
                                        <li>Requires purchase, more expensive.</li>
                                        <li>Can take up to a week to issue.</li>
                                    </ul>
                                </li>
                            </ul>

                            <p v-if="hosting == 'cloudflare'">With Cloudflare, you get free DV certificates, however they do not allow use of custom certificates unless you use their Business ($200 a month) plan.</p>

                            <p>For most sites, DV certificates are exactly what you're looking for. But it's worth considering EV certificates as they show the organization in the URL bar.</p>
                            <p>Another consideration is do you need this certificate for a single domain/subdomain or for multiple. There are single domain, multi domain and wildcard (all subdomains) certificates available from most SSL providers, though Let's Encrypt &amp; Cloudflare require you setup each subdomain separately.</p>

                            <p>If you're just looking to secure your main domain a 1 or 2 DV certificates will work perfectly.
                                <br>Free DV certificates are available with <a rel="noopener" target="_blank" href="https://www.cloudflare.com/">Cloudflare</a>
                                <template v-if="control == 'max'">
                                and <a rel="noopener" target="_blank" href="https://letsencrypt.org/">Let's Encrypt</a>.</template>
                                <br>Many sites such as <a rel="noopener" target="_blank" href="https://www.ssls.com/">SSLs.com</a>
                                    <template v-if="control == 'max'"> or <a rel="noopener" target="_blank" href="https://sslmate.com/">SSLmate</a></template> offer certificates.
                            </p>

                            <p>If you're interested in an OV or EV certificate, best to go ahead and purchase these in advance as they can take several days to be issued. They will also require proof of the organization's existence. But if you're selecting a DV certificate then you can wait till the moving day.</p>

                            <p>Once you've selected the certificate you're interested in you can move on to start migrating, but consider the following points to make sure you don't miss anything.</p>

                            <p v-if="hosting == 'cloudflare'">Cloudflares free certificate covers multiple subdomains but wildcard support is restricted to their Business plan. The certificates also <a rel="noopener" target="_blank" href="https://support.cloudflare.com/hc/en-us/articles/203041594-What-browsers-work-with-CloudFlare-s-SSL-certificates-">do not support</a> old browser/OS combinations such as Windows XP or OS X 10.5 or less.</p>
                        </li>
                        <li v-if="hosting != 'caddy'">
                            <h3>Check to see if your hosting / provider already offers FREE SSL</h3>
                            <p>Though this is not yet the norm, as HTTPS becomes the default for a lot of sites, providers are starting to offer SSL included with hosting packages. It's worth contacting them to be sure.</p>
                        </li>
                        <li>
                            <h3>Do you have a test site?</h3>
                            <p>This is optional as most sites don't have access to a test site, nor will many sites actually require one anyway.</p>
                            <p>But if you are able to, making these changes on a test / staging version of your site first would reduce the risk that comes from editing a production site. </p>
                        </li>
                        <li>
                            <h3>Dedicate some time to your migration</h3>
                            <p>Installing a certificate can be pretty quick, though the actual full migration process can take a good chunk of time to properly complete. We'd advise starting the moving day portion of this guide when you have a few hours free. If everything goes smoothly it may take much less time, but it's worth having that spare time just in case.</p>
                        </li>
                        <li>
                            <h3>Make sure everyone involved in the site knows the migration is happening.</h3>
                            <p>For example, if you're site has a separate marketing person or team, let them know what will be changing. Later on we'll be updating 3rd party links and they may need to be aware of the changes and make changes of their own.</p>
                        </li>
                        <li>
                            <h3>How will you track changes?</h3>
                            <p>In the event that the migration causes some short term disruptions in traffic and/or search rank, you'll want stats to fall back on and provide visibility of what exactly changed.</p>
                            <p>If you haven't already, setup <a rel="noopener" target="_blank" href="https://www.google.co.uk/analytics/">Google Analytics</a> or a similar service and let it run for at least a week to get a good idea of current traffic &amp; behaviour.</p>
                            <p>It's also worth making sure you have <a rel="noopener" target="_blank" href="https://www.google.com/webmasters/">Google Search Console</a> (Webmaster tools) setup to track indexed pages and keywords used to find your site along with average position. You may also want to check out <a rel="noopener" target="_blank" href="http://www.bing.com/toolbox/webmaster">Bing's Webmaster Tools</a>.</p>
                        </li>
                        <li>
                            <h3>Consider making some changes pre migration</h3>
                            <p>Some changes such as fixing mixed content can often be done before the move.
                                <br>We've listed it later on as part of the migration flow, but feel free to skip ahead through the guide to ease the changes later.
                                <br>Other changes such as redirects &amp; 3rd party changes must wait 'til you first have SSL installed.
                            </p>
                        </li>
                        <li>
                            <h3>Do you plan to move your entire site or just specific areas first?</h3>
                            <p>If you can, moving your entire site. It means more work upfront but given the SEO benefits and knowledge that your entire site is encrypted for users is worth it.</p>
                            <p>However, not all sites are able to do this at one, at the very least you'll need to setup HTTPS for any login forms, payment pages and any pages that require or reveal user details.</p>
                            <p>The rest of guide currently assumes you're moving your entire site so some parts of this you can skip or modify. E.g. you'll want to skip changing most 3rd party settings if the majority of your site is still over HTTP instead of HTTPS. You'd also want to not set up an entire site redirect, but instead redirect just the specific pages / sections over HTTPS and potentially setup redirects going the other way for pages required over HTTP fro HTTPS.</p>
                        </li>
                        <li>
                            <h3>Does your site have multiple variations?</h3>
                            <p>During the migration you'll need to be aware of all variations of your site such as multiple languages or location based changes or even AB tests in progress? During the mixed content fixing step you'll need to check all variations.</p>
                        </li>
                        <li v-if="hosting != 'cloudflare'">
                            <h3>Using a CDN?</h3>
                            <p>Check out your CDN's site to see if there's anything you need to change / be aware of during the migration process.</p>
                        </li>
                    </ol>

                    <!-- During move -->
                    <a class="toggle-section print-hidden" @click="showArea.duringMove = !showArea.duringMove">[Toggle]</a>
                    <h2 id="during-move" v-bind:class="showArea.duringMove ? '' : 'toggle-hidden-section print-hidden'">Moving day</h2>
                    <ol v-show="showArea.duringMove">
                        <li>
                            <h3>Get the certificate</h3>
                            <p>At this point, if you haven't previously got your SSL certificate, now is the time to do so.
                                <br>Already have your certificate? Skip this step and proceed to installing it.</p>

                            <p v-if="hosting == 'caddy'">
                                Caddy comes with free HTTPS via Let's Encrypt without you having to do a thing. To use you can skip ahead to step 3. But if you want to buy a certificate (e.g. an EV certificate) you certainly can use that instead.
                            </p>
                            <template v-else>

                            <!-- Using let's encrypt -->

                            <p v-if="control == 'max' && hosting != 'cloudflare'">
                                If you're looking to use Let's Encrypt's free certificates and you'll be installing the certificates over SSH then <a rel="noopener" target="_blank" href="https://certbot.eff.org/">Certbot</a> will walk you through this &amp; setting up automatic renewals.
                            </p>

                            <template v-if="hosting == 'cpanel'">
                                <p>cPanel now offer a <a rel="noopener" target="_blank" href="https://blog.cpanel.com/announcing-cpanel-whms-official-lets-encrypt-with-autossl-plugin/">plugin</a> that adds let's encrypt support.</p>
                                <blockquote>
                                    SSH into the server as root, then just run this command:
                                    <br>
                                    <code>/scripts/install_lets_encrypt_autossl_provider</code>
                                    <br><br>
                                    Once installed, Let’s Encrypt will appear in WHM’s Manage AutoSSL interface (Home >> SSL/TLS >> Manage AutoSSL) where you can enable the provider.
                                </blockquote>
                            </template>

                            <template v-if="hosting == 'plesk'">
                                <p>Plesk now offer a <a rel="noopener" target="_blank" href="https://www.plesk.com/blog/lets-encrypt-plesk/">plugin</a> that adds let's encrypt support.</p>
                                <blockquote>
                                    Install the Let’s Encrypt extension via the Extension Catalog:
                                    <br>
                                    Next, click the installed extension, select a website, and install the certificate.
                                </blockquote>
                                <p>Once the plugin is installed, you should find
                            </template>
                            <p v-if="(hosting == 'cpanel' || hosting == 'plesk') && control == 'min'">
                                You may need to ask who runs your server to install the plugin if it's not already installed.
                            </p>

                            <!-- Using Cloudflare? -->
                            <p>
                                If you want to use Cloudflare's free certificates, all you need do is sign up with them and move your nameservers to them which their site will guide you through this process.
                                <br>Once signed up and your site is running through Cloudflare, you could opt to use the Pro plan which offers older browser support for SSL.
                            </p>

                            </template>

                            <template v-if="control != 'min' && hosting != 'cloudflare'">

                                <p>In order to purchase a certificate through any 3rd party you will need to generate a Private Key &amp; a Certificate Signing Request (CSR) on your web server. They will only need the CSR but the private key is needed on your server.</p> <p>The site you're purchasing from should guide you through this, but just in case:</p>

                                <template v-if="hosting == 'cpanel'">
                                    <p>Inside your cPanel account > Security > SSL/TLS Manager</p>
                                    <p>First we need the Private key: Under "Private Keys (KEY)" click "Generate, view, upload, or delete your private keys" > Scroll down and under "Generate a New Key" select the domain &amp; click Generate.
                                        <br>This should now have generated the key, next we need the CSR.
                                        <br>Click "Return to SSL Manager" to go back and this time under "Certificate Signing Requests (CSR)" click "Generate, view, or delete SSL certificate signing requests" > enter the details requested, Host being the domain you're generating this certificate for, Country being the 2 character code e.g. US for United States, then click Generate. This will then show you the CSR which you can copy and paste to the certificate authority you are buying the certificate from.
                                    </p>
                                </template>

                                <template v-else-if="hosting == 'plesk'">
                                    <p>Inside Plesk > Hosting Services > Domains > Find the domain you want to setup SSL for and click "Control Panel" > Websites &amp; Domains > Secure Your Sites > Add SSL Certificate > Enter the details requested &amp; click Request. The CSR should then be available in "SSL Certificates" which you can copy and paste to the certificate authority you are buying the certificate from.
                                    </p>
                                </template>

                                <template v-else>
                                    <p><a rel="noopener" target="_blank" href="https://www.digicert.com/csr-creation.htm">Digicert have a useful support page</a> listing multiple platforms &amp; operating systems each linking off to how to generate your CSR.
                                    <br>Also <a rel="noopener" target="_blank" href="https://uk.godaddy.com/help/ssl-certificates-1000006">GoDaddy have great documentation</a> on this as well.
                                    <br>These also include generating the private key at the same time. E.g. Digicert offer a <a rel="noopener" target="_blank" href="https://www.digicert.com/easy-csr/openssl.htm">OpenSSL CSR Creation</a> which generates a command you can run via ssh which generates both the CSR and private key file.</p>
                                </template>

                            </template>


                        </li>
                        <li v-if="hosting != 'cloudflare'">
                            <h3>Install the certificate</h3>

                            <p v-if="hosting == 'caddy'">
                                If your installing a custom certificate to your Caddy server, all you need to do is reference the new certificate and private key file in your Caddyfile like so:
                                <br>
                                <code>tls ../cert.pem ../key.pem</code>
                                <br><a rel="noopener" target="_blank" href="https://caddyserver.com/docs/tls">More details here</a>.
                            </p>

                            <p v-else-if="hosting == 'cpanel'">
                                Inside your cPanel account > SSL/TLS Manager > "Generate, view, upload, or delete SSL certificates" > "Upload a New Certificate" > paste or upload the .crt file here &amp; click Upload.
                                <br>Click Go Back > Return to SSL Manager > Setup a SSL certificate to work with your site > Select the domain &amp; this should fetch the certificate &amp; key for you, but if this option doesn't show or doesn't work you may need to contact your hosting provider / support. Under the certificate &amp; key there should now be a 3rd box for Ca Bundle where you'll need to paste you bundle file. Click Install Certificate &amp; your done.
                                <br>Now you just need to restart Apache for it to take effect.
                            </p>

                            <p v-else-if="hosting == 'plesk'">
                                Inside Plesk > Hosting Services > Domains > Find the domain you want to setup SSL for and click "Control Panel" > Websites &amp; Domains > Secure Your Sites > Under "Certificate name" find the certificate you previously setup. Upload the Certificate / .crt file, and upload the CA certificate / bundle file, then click "Send File". Back to the Websites &amp; Domains > Check that "Enable SSL support" is selected &amp; then select your certificate from the menu, Click OK and you're done.
                                <br>Now you just need to restart Apache for it to take effect.
                            </p>

                            <template v-else>

                                <template v-if="control == 'max'">
                                    <p>Using the <a rel="noopener" target="_blank" href="https://mozilla.github.io/server-side-tls/ssl-config-generator/">Mozilla SSL Configuration Generator</a> you can build the config needed to add to your server config files. e.g. if using Apache2 you'll need to either change your .htaccess or apache.conf file.</p>
                                    <p>Then upload the certificates to the paths shown in the config, e.g. <code>/path/to/signed_certificate</code></p>
                                    <p>This tool also adds the HSTS (Strict-Transport-Security) header to the config, you could choose to add this now, but we'd advise holding onto that part for now and adding it in later which we will go over later in the guide.</p>
                                </template>
                                <template v-else>
                                    <p>Unless your platform allows you to install the certificate, you will need to contact them and ask to install the certificate for you onto the site's server.</p>
                                </template>

                            </template>

                        </li>
                        <li>
                            <h3>Check the certificate</h3>
                            <p>First check, before any others, load the site up in your browser (make sure to load the HTTPS version).</p>
                            <p v-if="hosting == 'cloudflare'">It may take a few minutes for Cloudflare to provision your certificate. You can check on this progress in the Crypto tab > SSL > under the drop down it will say "Active Certificate" once complete.</p>
                            <p>Any issues shown in your browser? no? brilliant!</p>
                            <p>However, if you do see an error message, the message may point you in the right direction, but <a rel="noopener" target="_blank" href="https://www.ssllabs.com/ssltest/">SSLLabs</a> can be used here to check and diagnose the issue.</p>
                            <p v-if="control == 'max'"><em>If needed, <a rel="noopener" target="_blank" href="https://maulwuff.de/research/ssl-debugging.html">this article</a> can be very useful in debugging typical SSL issues, though the post is fairly technical.</em></p>
                            <p>You hopefully won't see a full page error screen, though you may find you don't have a green lock / HTTPS indicator in the URL bar. Which brings us onto the next subject, fixing insecure / mixed content issues.</p>
                        </li>
                        <li>
                            <h3>Find mixed content</h3>
                            <p>Mixed content is when you have assets/resources on pages that try to load over HTTP instead of HTTPS. This affects images, scripts, css and more.</p>
                            <p>There are 2 types of mixed content, the first is active mixed content, things like javascript files that could change the content of the page if intercepted by a <a rel="noopener" target="_blank" href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack">man-in-the-middle</a>. This is often blocked in browsers but can leave parts of your site broken because of this.
                            <br>The other type is passive mixed content, such as images, which are less dangerous, but still an issue and though not blocked in the browser, having these will replace your green HTTPS &amp; lock symbol with a grey version indicating it's over HTTPS but has issues.</p>

                            <p>There are a few ways to find mixed content on your site, the simplest is to load up pages and use your browser's developer tools to see warnings. But doing this over an entire site would likely be either very slow or impossible.</p>

                            <p>Instead, the main ways sites are normally checked are through:</p>
                            <ol>
                                <li>
                                    CSP (Content Security Policy) reporting, which is a way to tell browsers to send issue reports back to you as users navigate through your site.
                                    <br>
                                    <template v-if="control == 'min'">
                                        Though setting this up usually requires access to the code or to install plugins to your platform so we'll skip this.
                                    </template>
                                    <template v-else>
                                        It's usually a regarded as the more complete option as it catches any ajax issues that crawling may not find, though it requires you first have users visiting pages with mixed content on to report them. It also only works if you have access to modify the HTTP response headers of your site, plugins can often accomplish this though.
                                        <br>
                                        CSP violations can be sent back to a central server for you to monitor them and receive alerts, here's a few examples:
                                        <ul>
                                            <li>
                                                <a rel="noopener" target="_blank" href="https://report-uri.io/">Report URI</a>
                                                - Offers free hosted CSP collection, great graphs and tools to build a CSP header.
                                            </li>
                                            <li>
                                                <a rel="noopener" target="_blank" href="https://httpschecker.net/guides/https-reporter">HTTPS Reporter</a>
                                                - Paid CSP hosting, provides you with a prebuilt CSP header designed just to catch mixed content issues ready to set up on your site.
                                            </li>
                                            <li>
                                                <a rel="noopener" target="_blank" href="https://github.com/c0nrad/caspr">Caspr the friendly CSP Report Aggregator</a> - <em>Though no longer under active development</em>, this is an open source CSP service you can run on Heroku.
                                            </li>
                                            <li v-if="control == 'max'">
                                                Or you could <a rel="noopener" target="_blank" href="https://mathiasbynens.be/notes/csp-reports">build a script yourself</a> to collect your CSP reports.
                                            </li>
                                        </ul>
                                    </template>
                                </li>
                                <li>
                                    Using a tool to externally crawl over your site at once.
                                    <br>
                                    These crawling tools work with any site as they are run externally. Here are some examples:
                                    <ul>
                                        <li><a rel="noopener" target="_blank" href="https://httpschecker.net/guides/https-checker">HTTPS Checker</a> is a desktop app (available on Windows, Mac OS X &amp; Ubuntu Linux) to crawl a site for mixed content and related issues.</li>
                                        <li v-if="control != 'min'"><a rel="noopener" target="_blank" href="https://github.com/bramus/mixed-content-scan">Mixed Content Scan</a> by Bramus is a command line php script that will crawl a given site for mixed content issues.</li>
                                        <li><a rel="noopener" target="_blank" href="https://www.jitbit.com/sslcheck/">SSL Check</a> by JitBit offers a quick online tool to find mixed content <em>- though is limited to 200 crawled URLs</em>.</li>
                                    </ul>
                                </li>
                                <li v-if="hosting == 'cloudflare'">
                                    Automatic replacing content live as it's sent from Cloudflare to users browsers with "Automatic HTTPS Rewrites" - This is an experimental new feature inside Cloudflare that replaces links to HTTP resources with HTTPS where possible, though you may still have content that loads over HTTP is a HTTPS version isn't available, but this can certainly ease the pain.
                                    <ul>
                                        <li><a rel="noopener" target="_blank" href="https://blog.cloudflare.com/fixing-the-mixed-content-problem-with-automatic-https-rewrites/">Read more here</a></li>
                                    </ul>
                                </li>
                                <li v-if="platform == 'wordpress'">
                                    There are some Wordpress plugins dedicated to HTTPS migration help, these will also assist in the following steps so worth checking them out before continuing.
                                    <br>
                                    For Wordpress sites, these are usually our recommended way to go, but could be combined with the tools above to be extra safe.
                                    <ul>
                                        <li><a rel="noopener" target="_blank" href="https://wordpress.org/plugins/really-simple-ssl/">Really Simple SSL</a></li>
                                        <li><a rel="noopener" target="_blank" href="https://wordpress.org/plugins/ssl-insecure-content-fixer/">SSL Insecure Content Fixer</a></li>
                                    </ul>
                                </li>
                            </ol>

                            <p>Once you've got a good way to identify any mixed content issues on your site you can start fixing any found.</p>

                        </li>
                        <li>
                            <h3>Fix mixed content</h3>

                            <p v-if="platform == 'wordpress'">
                                The above Wordpress plugins can help fix issues, the following will help with areas you need to manually change though.
                            </p>

                            <p>The essence of fixing mixed content issues is to replace links to HTTP resources with HTTPS.</p>
                            <p>E.g. <code>&lt;img src=&quot;http://site.com/image.png&quot;&gt;</code>
                                <br>Would need replacing with <code>&lt;img src=&quot;https://site.com/image.png&quot;&gt;</code> to load over HTTPS instead.
                            </p>

                            <p>Sometimes a HTTPS version of something may not yet be available, in this case you could download the resource and host it yourself on your newly HTTPS site.</p>

                            <p v-if="control == 'max'">
                                Another option to help the migration process is to use the CSP header of "upgrade-insecure-requests" <a rel="noopener" target="_blank" href="http://caniuse.com/#feat=upgradeinsecurerequests">(Browser support is fairly good and improving)</a>. You can <a rel="noopener" target="_blank" href="https://developers.google.com/web/fundamentals/security/prevent-mixed-content/fixing-mixed-content#upgrading_insecure_requests">read more about this here</a>.
                                This is probably the nicest way to do it, but requires the resource actually have a HTTPS version available, so worth checking or reporting these issues too.
                            </p>
                            <p v-if="control == 'max'">
                                You could also use CSP set to block all non HTTPS requests, though this will result in broken images, style &amp; scripts that, so using this with the reporting services above would be wanted.
                            </p>

                            <p>To test, recheck your site with the tools used in the previous step.</p>

                        </li>
                        <li>
                            <h3>Check all forms &amp; redirects are over HTTPS</h3>
                            <p>Usually grouped in with mixed content, forms that have insecure / HTTP actions set. This is because even if you redirect your whole site, the form data would still first be sent over HTTP to hit the redirect and then go over HTTPS, exposing the data in that in-between HTTP step.</p>
                            <p>The same is true for redirects such as redirects to URLs logged in areas of a site.</p>
                            <p>The above mixed content checking tools can help you track these down too.</p>
                        </li>
                        <li>
                            <h3>Setup HTTP to HTTPS redirect</h3>
                            <p>In order to make sure users reach the HTTPS version of your site you can use a 301 redirect and send all requests to the HTTPS version.</p>

                            <p v-if="hosting == 'caddy'">Luckily Caddy takes care of this for you, just test it works and move along.</p>
                            <template v-else>

                            <p v-if="platform == 'wordpress'">The Really Simple SSL wordpress plugin mentioned above handles this redirect for you.</p>

                            <p v-if="hosting == 'cloudflare'">For Cloudflare you can setup a page rule to redirect all traffic to HTTPS: Page Rules > Create Page Rule > Enter your site like so: http://*movingtohttps.com/* then "+ Add a Setting" and select "Always Use HTTPS".</p>

                            <p v-else-if="hosting == 'nginx'">
                                Setup your nginx conf file with the following redirect to HTTPS:
                                <code>
server {
    listen 80;
    server_name site.com www.site.com;
    return 301 https://site.com$request_uri;
}</code>
                            </p>

                            <p v-else>
                                Setup your .htaccess file with the following redirect to HTTPS:
                                <code>
RewriteCond %{SERVER_PORT} 80
RewriteRule ^(.*)$ https://site.com/$1 [R=301,L]</code>
                            </p>

                            <p>After setting this redirect up it's important to test it doesn't just send users to the homepage, but rather it redirect any request path to the same path but over HTTPS. E.g. http://site.com/info/contact.html redirects to https://site.com/info/contact.html.</p>
                            <p>If you're site redirects non-www traffic to the www version, or vise versa, make sure to update these redirects too so you don't end up with double or more redirect steps.</p>

                            </template>

                        </li>
                        <li>
                            <h3>Change platform settings</h3>
                            <p v-if="platform == 'wordpress'">In Wordpress > Settings > General > Update the "WordPress Address (URL)" and "Site Address (URL)" to be https:// instead of http://</p>
                            <p v-if="platform == 'joomla'">In Joomla > System > Global Configuration > Server > Force SSL > Select Entire Site</p>
                            <p v-if="platform == 'magento'">In Magento > Admin > System > Configuration > General > Web > Secure > Select Yes for "Use Secure URLs in Frontend" &amp; "Use Secure URLs in Admin"</p>
                            <p v-if="platform == 'shopify'">In Shopfiy > Admin > Online Store > Domains > SSL certificates > click "Activate SSL certificates"</p>
                            <p v-if="platform == '' || platform == 'php'">Check if your platform/site has a settings area for the default URL or a switch for using SSL.</p>
                        </li>
                        <li>
                            <h3>Check common files use HTTPS</h3>
                            <p>Most sites have a couple common files such as robots.txt &amp; sitemap.xml.</p>
                            <p>Check to make sure these redirect to HTTPS versions and references to URLs inside the files all also use HTTPS.</p>
                        </li>
                        <li>
                            <h3>Update any canonical &amp; og:url references</h3>
                            <p>Often sites use canonical links in the <code>&lt;head&gt;</code> of pages to point to the correct URL for a page, e.g. if multiple URL's reach the same page in your site these are important. It's worth checking if your site uses these that it points to the HTTPS version.</p>
                            <p>At the same time you should in the <code>&lt;meta&gt;</code> of your site</p>
                            <p>Most times site that use these are using a platform that auto generates them, so if you check just a couple pages you should be safe that this will be ok on all pages.</p>
                        </li>
                        <li>
                            <h3>Update 3rd party scripts, analytics &amp; other links</h3>
                            <p>Some 3rd party tracking sites require you either update the tracked origin URL or set up a new account for monitoring.</p>
                            <p>Here's a few examples, but worth doing a quick audit of any 3rd party tools you use:</p>
                            <ul>
                                <li>Google Search Console (Webmaster Tools) - Requires you setup a new account, this allows you to monitor traffic still in Google's index hitting the HTTP version first vs the HTTPS version of your site. This means any settings including Sitemaps &amp; Disavow files will need to be uploaded to the new account. While in here, it's worth running the Crawl > Fetch as Google command in here to test Google can reach the site without any issues.</li>
                                <li>Google Analytics - Requires a URL change in a couple areas:
                                    <ul>
                                        <li>Admin > View Settings > Website's URL</li>
                                        <li>Admin > Property Settings > Default URL</li>
                                        <li>Admin > Property Settings > Search Console > Adjust Search Console > Link to the new Search Console account</li>
                                    </ul>
                                </li>
                                <li>Google Merchant Center (Shopping) - Requires claiming the new URL in Business information > Website > Claim your website</li>
                                <li>Google Adwords - Update any Ad URLs to use HTTPS</li>
                                <li>Bing Webmaster Tools - Like with Google, you'll need to create a new account for the HTTPs version of your site</li>
                            </ul>
                            <p>It's worth reviewing your site for more of these as some you might not expect need updating such as: <a rel="noopener" target="_blank" href="https://woorkup.com/migrate-disqus-comments-https/">Disqus comments</a> which uses the current url as the page the comments are tied to. As well as 3rd party Ads on sites like Twitter &amp; Facebook.</p>
                        </li>
                        <li>
                            <h3>Last step, purge caches</h3>
                            <p>Purge any caches, you may have had to do this earlier on to test content, but it's worth emptying / purging any internal to the platform caches and any CDN cache etc. to make sure all content is up to date with your changes.</p>
                        </li>
                    </ol>

                    <!-- Post Move -->
                    <a class="toggle-section print-hidden" @click="showArea.postMove = !showArea.postMove">[Toggle]</a>
                    <h2 id="post-move" v-bind:class="showArea.postMove ? '' : 'toggle-hidden-section print-hidden'">Post move</h2>
                    <ol v-show="showArea.postMove">
                        <li>
                            <h3>Wait a day or maybe a week...</h3>
                            <p v-if="control == 'max'">If you're using CSP this is a great point to check reports and fix any issues, this can be an ongoing process.</p>
                            <p>Fix the issues found, such as any SSL issues reported, redirect issues or mixed content warnings and then proceed to following steps. </p>
                            <p>Check your monitoring in Analytics, Webmaster tools etc. Here you may notice things like people still hitting the old HTTP pages if your redirect isn't setup correctly. </p>
                        </li>
                        <li>
                            <h3>Implement HSTS (HTTP Strict-Transport-Security)</h3>
                            <p>One of the main reasons to wait a day or so is to make sure you don't need to back out of this.
                                <br>With HSTS you can tell browsers when users visit your site to only request from the HTTPS version of the site, no interactions over HTTP.</p>

                            <p>All that's needed for this is to add the "Strict-Transport-Security" to your site with a max age set to 6 months in seconds (15768000)</p>

                            <p v-if="platform == 'wordpress'">The Really Simple SSL wordpress plugin mentioned above handles setting this up for you.</p>

                            <p v-if="hosting == 'nginx'">
                            Inside your nginx conf file, add the following inside the server block:<code>
add_header Strict-Transport-Security "max-age=15768000;";</code>
                            </p>
                            <p v-else>
                            Inside your .htaccess file, add:<code>
&lt;IfModule mod_headers.c&gt;
Header set Strict-Transport-Security "max-age=15768000;"
&lt;/IfModule&gt;</code>
                            </p>

                        </li>
                        <li>
                            <h3>Plan for when the certificate expires</h3>
                            <p>You should make a note of when your certificate expires on a calendar to be safe. </p>
                            <p>Even if you've setup automatic renewal of the certificate, you still need to be sure that it works. Better to test yourself than have a customer call up and point it out to you.</p>
                            <p>With other SSL providers, they normally email you before renewal but it's still best to be safe and keep track of this date yourself.</p>
                            <p>Consider also making notes on how you installed the certificate previously for your future self to reference.</p>
                        </li>
                    </ol>

                    <!-- Above and beyond -->
                    <a class="toggle-section print-hidden" @click="showArea.aboveAndBeyond = !showArea.aboveAndBeyond">[Toggle]</a>
                    <h2 id="above-and-beyond" v-bind:class="showArea.aboveAndBeyond ? '' : 'toggle-hidden-section print-hidden'">Going above and beyond</h2>
                    <ol v-show="showArea.aboveAndBeyond">
                        <li>
                            <h3>Update internal links in pages, emails etc.</h3>
                            <p>Even with a redirect from HTTP to HTTPS setup, it's best to minimize temp HTTP redirects as these can still lead to exposing what the user was doing.</p>
                            <p v-if="control == 'max'">To ease the pain of this, if you have access to the code and/or the database you could run a find and replace over all content for <code>href="http://yoursite.com</code> with <code>href="https://yoursite.com</code></p>
                        </li>
                        <li>
                            <h3>Update links on social media etc.</h3>
                            <p>Though you've set up all your redirects, it's still best to try to send users direct to the HTTPS version without need to go through these redirects.</p>
                        </li>
                        <li>
                            <h3>Aim for A+ on SSLLabs</h3>
                            <p><a rel="noopener" target="_blank" href="https://www.ssllabs.com/ssltest/">SSLLabs</a> will give you useful information on your SSL/TLS implementation and any issues found. It'll also give you recommendations to improve it if any are noticed.</p>
                            <p>This is within reach especially if you've setup your HSTS header in the post-move stage.</p>
                        </li>
                        <li>
                            <h3>Consider preloading your HSTS</h3>
                            <p>If you've previously set up your HSTS header, you could now opt to preload this into browsers before users even get to your site.</p>
                            <p>To do this, visit the <a rel="noopener" target="_blank" href="https://hstspreload.org/">HSTS preload list</a> site to submit your site.</p>
                        </li>
                        <li>
                            <h3>Iron out other similar security actions</h3>
                            <p>Similar to SSL test earlier, this report will show some other recommendations such as use of secure cookies: <a rel="noopener" target="_blank" href="https://httpsecurityreport.com/">Security Report.</a></p>
                        </li>
                        <li>
                            <h3>Enable HTTP/2 support</h3>
                            <p>Now that you're on HTTPS, you can benefit from the speed improvements that come from HTTP/2 on your server and/or CDN. </p>
                        </li>
                    </ol>

                    <p><small>Disclaimer: This site is provided under the <a rel="noopener" target="_blank" href="https://mit-license.org/">MIT licence</a> and available on <a rel="noopener" target="_blank" href="https://github.com/MovingtoHTTPS">GitHub</a>. All content is provided as a resource to aid migration only. Following it in no way leaves the project or it's authors liable.</small></p>
                    <p><small>Found an issue or want to contribute changes? <a rel="noopener" target="_blank" href="https://github.com/MovingToHTTPS/movingtohttps.com">Fork us on Github</a> or <a rel="noopener" target="_blank" href="https://github.com/MovingToHTTPS/movingtohttps.com/issues">open an issue</a>.</small></p>

                </main>

            </div>

        </div>

        <footer class="footer">

            <!-- Share links will show here -->
            <div class="addthis_inline_share_toolbox"></div>

            <p>
                <i class="fa fa-print"></i>
                <small>Looking for a printed or PDF version of this page? This page is print friendly and you can normally print to PDF :)</small>
                <i class="fa fa-file-pdf-o"></i>
            </p>

        </footer>

    </div>

    <!-- js imports -->
    <script src="https://unpkg.com/vue@2.1.10/dist/vue.min.js"></script>
    <script src="/js/app.js"></script>
    <script>
    if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js').then(function(registration) {
            console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }).catch(function(err) {
            console.log('ServiceWorker registration failed: ', err);
            window.ga('send', 'event', 'sw error', 'ServiceWorker registration failed', err);
        });
    });
    }
    </script>

    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-90554746-1', 'auto');
    ga('send', 'pageview');
    </script>

    <!-- Google Translate -->
    <script>
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({
            pageLanguage: 'en',
            gaTrack: true,
            gaId: 'UA-90554746-1'
        }, 'google_translate_element');
    }
    </script>
    <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <!-- AddThis sharing icons -->
    <script src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-587ff52da81ee382"></script>

</body>
</html>
